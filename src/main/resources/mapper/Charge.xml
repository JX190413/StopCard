<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.cykj.stopcard.dao.ChargeDao">
    <select id="selfasttime" resultType="com.cykj.stopcard.bean.Product">
        SELECT * from tbl_rules c where c.mealid<![CDATA[<= ]]>4
</select>
    <select id="selall" resultMap="epmap">
        SELECT * FROM tbl_carport a,tbl_state c where  c.stateid=a.stateid
    </select>
    <resultMap id="epmap" type="com.cykj.stopcard.bean.CardPort">
        <result property="portid" column="portid"></result>
        <result property="portcardid" column="portcardid"></result>
        <result property="portarea" column="portarea"></result>
        <result property="portname" column="portname"></result>
        <result property="stateid" column="stateid"></result>
        <result property="portx" column="portx"></result>
        <result property="porty" column="porty"></result>
        <result property="carnum" column="carnum"></result>
        <result property="statename" column="statename"></result>

    </resultMap>
    <select id="selcormid" parameterType="java.lang.String" resultType="Integer">
        SELECT comboid from tbl_combo  where  combotime=#{time}
    </select>
    <insert id="inserole" parameterType="Business">
INSERT INTO tbl_business(comboid,paytime,pasttime,carnum)VALUES
(#{comboid},#{paytime},#{pasttime},#{carnum})
    </insert>
    <select id="selcomboid" resultType="com.cykj.stopcard.bean.Combo" parameterType="java.lang.String">
        SELECT * from tbl_combo where combotime=#{time}
    </select>
    <select id="selodnumber" parameterType="java.lang.String" resultType="int">
       SELECT businessid from tbl_business where carnum=#{carnum}
    </select>
</mapper>